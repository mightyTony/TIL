분산락 관리 라이브러리

Lettuce
	- setnx 명령어를 활용하여 분산락 구현
	- spin lock 방식

스핀락 - 락을 획득하려는 스레드가 락을 사용할 수 있는지 반복적으로 확인하면서 락 획득을 시도하는 방식(락 획득 받을 때 까지 리트라이 로직 구현 필요) 

Redisson 
	- pub-sub 기반으로 Lock 구현 제공

펍섭 - 채널을 하나 만들고 락을 점유 중인  스레드가 락 획득하려고 대기중인 스레드에게 해제를 알려주면 안내 받은 스레드가 락 획득 시도를 하는 방식
(별도의 리트라이 로직 x)


docker pull redis

docker run —name myredis -d -p 6379:6379 redis



# 레이스 컨디션 : 두 개 이상의 쓰레드가 공유 데이터에 접근을 하고 동시에 작업을 하려고 할때 발생하는 문제
	ex) 쿠폰 선착순 100개 뿌릴 때 갯수 줄어드는 로직 동작중 줄어드는 로직 트랜잭션 커밋 그 전에 쿠폰을 가져 갈 때 