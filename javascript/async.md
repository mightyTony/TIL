# 자바스크립트를 멀티스레드 처럼 하기 

- 프로세스 : 실행중인 프로그램 
- 스레드 : 프로세스 내부의 실행 단위
- 멀티 스레드 : 하나의 프로세스 내에서 두 개 이상의 작업을 동시에 관리하는 것
- 싱글 스레드 : 하나의 프로세스 내에서 단 하나의 작업만을 갖는 것

자바스크립트는 기본적으로 동기적으로 실행된다. 
하지만 시간이 오래걸리는 작업들을 동기적으로 실행하면 blocking이 자주 발생 하기에 일부 무거운 작업들은 비동기로 실행을 해야한다. (ex. DB 쿼리 수행, http 요청) 

자바스크립트에서 비동기 처리

## 1. 콜백 함수 : 나중에 실행되어야 할 함수를 콜백 함수로 넘겨 주는 방식

```
const printRabbit = (callback) => {
	setTimeout(() => {
		console.log("🐰");
		callback();
	}, 3000);
};

const printDog = () => { console.log("🐶"); };

printRabbit(printDog);
```

단점 : 진행 순서를 보장 해주지만 길면 한도 끝도 없이 길어진다.
    이를 콜백 지옥이라고 한다.

## 2. Promise : Promise는 비동기 처리를 위해 만들어진 객체이다.

예제는 길어지니 생략 함.
### 상태 
- Pending(대기) : 비동기 처리가 실행하지 않은 상태
- Fullfilled(이행) 비동기 처리가 완료 된 상태
- Rejected(실패) : 비동기 처리가 실패한 상태 

### 특징 
콜백함수와 동작은 같지만, 콜백 함수 안에 콜백 함수를 계속 호출 
하는 것 처럼 안해도 된다 => 가독성이 좋다. 

### 체이닝 
프로미스 처리 메서드로 체이닝이 가능하다.

.then() : 체이닝 
.catch() : 에러 처리하는 함수 
.finally() : Promise 상태 상관없이 마지막에 작업 처리 하는 함수
then, catch, finally 함수들은 모두 Promise를 결과로 반환하며, 반환된 
Promise의 결과를 처리 할 수 있다.

### 결국
Promise도 then으로 떡칧하면 뭐 콜백 지옥과 똑같다. 

## 3. async/await

async 키워드를 함수의 앞에 붙여 비동기로 동작하는 함수라는걸 나타내고,
비동기 함수 안에서 동기적으로 작동해야하는 부분에 await 키워드를 붙여준다.

await 키워드를 붙이게 되면 해당 Promise가 이행되기 전까지는 다음 코드가 실행되지 않기 때문에 비동기 함수 안에서도 순서를 보장 받을 수 있다.
